<div *ngIf="isLoading">
    Gathering data...
</div>
<div class="wrapper" *ngIf="!isLoading">
    <!-- button kindof unneccessary, but it works -->
    <div class="refresh-wrapper">
        <button class="refresh" (click)="refreshData()">Refresh Data</button>
    </div>
    
    <app-bar-chart (monthClickEvent)="displayByMonth($event)"></app-bar-chart>    

    <table *ngIf="monthToDisplay != undefined">
        <thead>
            <tr>
                <th>Title</th>
                <th>Description</th>
                <th>Organization</th>
                <th>Location</th>
                <th>Date Published</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let job of showJobs">
                <td>{{job.websiteTitle}}</td>
                <td>{{job.websiteJobFunction}}</td>
                <td>{{job.websiteOrganization}}</td>
                <td>{{job.websiteLocation}}</td>
                <td>{{getDate(job.websiteDatePublished) | date: 'shortDate'}}</td>
            </tr>
        </tbody>
    </table>

    <div class="mobile-table" *ngIf="monthToDisplay != undefined">
        <div *ngFor="let job of showJobs" class="job">
            <div class="head">{{job.websiteTitle}}</div>
            <div class="group">
                <div class="title">Description</div>
                <div class="data">{{job.websiteJobFunction}}</div>
            </div>
            <div class="group">
                <div class="title">Organization</div>
                <div class="data">{{job.websiteOrganization}}</div>
            </div>
            <div class="group">
                <div class="title">Location</div>
                <div class="data">{{job.websiteLocation}}</div>
            </div>
            <div class="group">
                <div class="title">Date Published</div>
                <div class="data">{{getDate(job.websiteDatePublished) | date: 'shortDate'}}</div>
            </div>
        </div>
    </div>
  </div>